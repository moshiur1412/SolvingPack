### **ЁЯМЯ ржирзЗржХрзНрж╕ржЯ рж╕рзНржорж▓рж╛рж░ ржПрж▓рж┐ржорзЗржирзНржЯ (NSE) ржбрж┐ржЯрзЗржХрж╢ржи ЁЯМЯ**  
ржПржХржЯрж┐ ржЕрзНржпрж╛рж░рзЗрж░ ржкрзНрж░рждрж┐ржЯрж┐ ржЙржкрж╛ржжрж╛ржирзЗрж░ ржЬржирзНржп рждрж╛рж░ ржбрж╛ржиржжрж┐ржХрзЗ ржерж╛ржХрж╛ **ржкрзНрж░ржержо ржЫрзЛржЯ ржЙржкрж╛ржжрж╛ржиржЯрж┐** ржЦрзБржБржЬрзЗ ржмрзЗрж░ ржХрж░рждрзЗ рж╣ржмрзЗред ржпржжрж┐ ржХрзЛржирзЛ ржЫрзЛржЯ ржЙржкрж╛ржжрж╛ржи ржирж╛ ржерж╛ржХрзЗ, рждрж╛рж╣рж▓рзЗ `-1` рж░рж┐ржЯрж╛рж░рзНржи ржХрж░рждрзЗ рж╣ржмрзЗред  

---

## **ЁЯУМ ржЕрзНржпрж╛рж▓ржЧрж░рж┐ржжржо ржмрзНржпрж╛ржЦрзНржпрж╛:**  
- ржПржХржЯрж┐ **рж╕рзНржЯрзНржпрж╛ржХ** ржмрзНржпржмрж╣рж╛рж░ ржХрж░рзЗ рж╕ржорж╛ржзрж╛ржи ржХрж░рж╛ рж╣ржмрзЗ, ржпрж╛рждрзЗ **O(n)** рж╕ржорзЯрзЗ рж╕ржорж╛ржзрж╛ржи ржХрж░рж╛ ржпрж╛рзЯред  
- ржЕрзНржпрж╛рж░рзЗржЯрж┐ **ржбрж╛ржиржжрж┐ржХ ржерзЗржХрзЗ** рж╕рзНржХрзНржпрж╛ржи ржХрж░рж╛ рж╣ржмрзЗ ржПржмржВ ржкрзНрж░рждрж┐ржЯрж┐ ржЙржкрж╛ржжрж╛ржирзЗрж░ ржЬржирзНржп рж╕рзНржЯрзНржпрж╛ржХ ржмрзНржпржмрж╣рж╛рж░ ржХрж░рзЗ ржЫрзЛржЯ ржЙржкрж╛ржжрж╛ржи ржмрзЗрж░ ржХрж░рж╛ рж╣ржмрзЗред  
- **рж╕рзНржЯрзНржпрж╛ржХрзЗрж░ ржЯржкрзЗ рж╕ржмрж╕ржорзЯ ржЫрзЛржЯрждрж░ ржЙржкрж╛ржжрж╛ржи** ржерж╛ржХржмрзЗ, ржпрж╛ ржжрзНрж░рзБржд рждрзБрж▓ржирж╛ ржХрж░рж╛ ржпрж╛ржмрзЗред  

---

## **ЁЯТ╗ PHP ржХрзЛржб:**  

```php
function nextSmallerElement($arr) {
    $n = count($arr);
    $result = array_fill(0, $n, -1); // рж╢рзБрж░рзБрждрзЗ рж╕ржмржЧрзБрж▓рзЛржХрзЗ -1 рж╕рзЗржЯ ржХрж░рж╛ рж╣рзЯ
    $stack = [];

    for ($i = $n - 1; $i >= 0; $i--) {
        while (!empty($stack) && end($stack) >= $arr[$i]) {
            array_pop($stack);
        }

        if (!empty($stack)) {
            $result[$i] = end($stack);
        }

        array_push($stack, $arr[$i]);
    }

    return $result;
}

// ржЙржжрж╛рж╣рж░ржг рж░рж╛ржи ржХрж░рж╛
$testCases = [
    [4, 5, 2, 10, 8],
    [1, 3, 4, 2, 5, 1]
];

foreach ($testCases as $arr) {
    echo "Input: " . implode(" ", $arr) . "\n";
    echo "Output: " . implode(" ", nextSmallerElement($arr)) . "\n\n";
}
```

---

## **тЪЩя╕П ржХрж┐ржнрж╛ржмрзЗ ржХрж╛ржЬ ржХрж░рзЗ:**  
1. **ржбрж╛ржиржжрж┐ржХ ржерзЗржХрзЗ ржЕрзНржпрж╛рж░рзЗ ржЯрзНрж░рж╛ржнрж╛рж░рзНрж╕ ржХрж░рж╛ рж╣рзЯ** ржпрж╛рждрзЗ рж╕рзНржЯрзНржпрж╛ржХрзЗрж░ рж╕рж╛рж╣рж╛ржпрзНржпрзЗ ржжрзНрж░рзБржд ржЫрзЛржЯ ржЙржкрж╛ржжрж╛ржи ржЦрзБржБржЬрзЗ ржкрж╛ржУрзЯрж╛ ржпрж╛рзЯред  
2. **рж╕рзНржЯрзНржпрж╛ржХ ржерзЗржХрзЗ ржпрждржХрзНрж╖ржг ржмрзЬ ржЙржкрж╛ржжрж╛ржи ржерж╛ржХрзЗ, рждрждржХрзНрж╖ржг ржкржк ржХрж░рж╛ рж╣рзЯ**, ржХрж╛рж░ржг ржПржЧрзБрж▓рзЛ ржжрж░ржХрж╛рж░ ржирзЗржЗред  
3. **рж╕рзНржЯрзНржпрж╛ржХрзЗрж░ ржЯржкрзЗ ржерж╛ржХрж╛ ржЙржкрж╛ржжрж╛ржиржЗ ржирзЗржХрзНрж╕ржЯ рж╕рзНржорж▓рж╛рж░ ржПрж▓рж┐ржорзЗржирзНржЯ**, рждрж╛ржЗ рж╕рзЗржЯрж┐ `result` ржЕрзНржпрж╛рж░рзЗрждрзЗ рж░рж╛ржЦрж╛ рж╣рзЯред  
4. **ржмрж░рзНрждржорж╛ржи ржЙржкрж╛ржжрж╛ржи рж╕рзНржЯрзНржпрж╛ржХрзЗ ржкрзБрж╢ ржХрж░рж╛ рж╣рзЯ** ржпрзЗржи ржкрж░ржмрж░рзНрждрзА ржПрж▓рж┐ржорзЗржирзНржЯрзЗрж░ ржЬржирзНржп ржПржЯрж┐ ржмрзНржпржмрж╣рзГржд рж╣рждрзЗ ржкрж╛рж░рзЗред  

---

## **ЁЯЦея╕П ржЖржЙржЯржкрзБржЯ:**  

```
Input: 4 5 2 10 8
Output: 2 2 -1 8 -1

Input: 1 3 4 2 5 1
Output: -1 2 2 1 1 -1
```

---

## **тП│ ржЯрж╛ржЗржо ржХржоржкрзНрж▓рзЗржХрзНрж╕рж┐ржЯрж┐ ржмрж┐рж╢рзНрж▓рзЗрж╖ржг**  

### **ЁЯФ╣ рж▓рзБржк ржмрж┐рж╢рзНрж▓рзЗрж╖ржг:**  
```php
for ($i = $n - 1; $i >= 0; $i--) {
    while (!empty($stack) && end($stack) >= $arr[$i]) {
        array_pop($stack);
    }
}
```
- ржкрзНрж░рждрж┐ржЯрж┐ ржЙржкрж╛ржжрж╛ржи рж╢рзБржзрзБржорж╛рждрзНрж░ **ржПржХржмрж╛рж░ рж╕рзНржЯрзНржпрж╛ржХрзЗ ржпрзЛржЧ ржУ ржПржХржмрж╛рж░ ржкржк ржХрж░рж╛ рж╣рзЯ** тЖТ **O(n)**ред  
- рж▓рзБржк **O(n)** ржмрж╛рж░ ржЪрж▓рзЗ, ржПржмржВ рж╕рзНржЯрзНржпрж╛ржХрзЗрж░ ржкрзНрж░рждрж┐ржЯрж┐ ржЙржкрж╛ржжрж╛ржи **ржПржХржмрж╛рж░ ржкржк рж╣рзЯ** тЖТ **O(n) + O(n) = O(n)**ред  

---

## **ЁЯТ╛ рж╕рзНржкрзЗрж╕ ржХржоржкрзНрж▓рзЗржХрзНрж╕рж┐ржЯрж┐ ржмрж┐рж╢рзНрж▓рзЗрж╖ржг**  

- **рж╕рзНржЯрзНржпрж╛ржХ ржУ ржЖржЙржЯржкрзБржЯ ржЕрзНржпрж╛рж░рзЗ** ржмрзНржпржмрж╣рж╛рж░ ржХрж░рж╛ рж╣рзЯрзЗржЫрзЗ тЖТ **O(n)** ржЕрждрж┐рж░рж┐ржХрзНржд ржЬрж╛рзЯржЧрж╛ рж▓рж╛ржЧрзЗред  

---

## **ЁЯУК ржЪрзВрзЬрж╛ржирзНржд ржмрж┐рж╢рзНрж▓рзЗрж╖ржг:**  

| ржХржоржкрзНрж▓рзЗржХрзНрж╕рж┐ржЯрж┐рж░ ржзрж░ржи | ржорж╛ржи |
|---------------|-------|
| **ржЯрж╛ржЗржо ржХржоржкрзНрж▓рзЗржХрзНрж╕рж┐ржЯрж┐** | **O(n)** |
| **рж╕рзНржкрзЗрж╕ ржХржоржкрзНрж▓рзЗржХрзНрж╕рж┐ржЯрж┐** | **O(n)** |

---

## **ЁЯФС ржорзВрж▓ ржкрзЯрзЗржирзНржЯрж╕ржорзВрж╣**  
тЬЕ **O(n) ржЯрж╛ржЗржо ржХржоржкрзНрж▓рзЗржХрзНрж╕рж┐ржЯрж┐** тЖТ рж╕рзНржЯрзНржпрж╛ржХрзЗрж░ ржорж╛ржзрзНржпржорзЗ ржкрзНрж░рждрж┐ржЯрж┐ ржПрж▓рж┐ржорзЗржирзНржЯ ржПржХржмрж╛рж░ ржкрзБрж╢ ржУ ржПржХржмрж╛рж░ ржкржк ржХрж░рж╛ рж╣рзЯред  
тЬЕ **O(n) рж╕рзНржкрзЗрж╕ ржХржоржкрзНрж▓рзЗржХрзНрж╕рж┐ржЯрж┐** тЖТ рж╕рзНржЯрзНржпрж╛ржХ ржУ ржЖржЙржЯржкрзБржЯ ржЕрзНржпрж╛рж░рзЗ ржмрзНржпржмрж╣рзГржд рж╣рзЯрзЗржЫрзЗред  
тЬЕ **рж╕рзБржмрж┐ржзрж╛ржЬржиржХ ржУ ржХрж╛рж░рзНржпржХрж░рзА ржкржжрзНржзрждрж┐** тЖТ рж╢рзБржзрзБржорж╛рждрзНрж░ ржкрзНрж░рзЯрзЛржЬржирзАрзЯ ржЙржкрж╛ржжрж╛ржи рж╕рзНржЯрзНржпрж╛ржХрзЗ рж░рж╛ржЦрж╛ рж╣рзЯ, ржпрж╛ рж╕рзНржЯрзНржпрж╛ржХрзЗрж░ рж╕рж╛рж╣рж╛ржпрзНржпрзЗ ржжрзНрж░рзБржд рж╕ржорж╛ржзрж╛ржи ржХрж░рж╛ рж╕ржорзНржнржмред  

---

### **ЁЯУв рж╕рж╛рж░рж╕ржВржХрзНрж╖рзЗржк:**  
- **рж╕рзНржЯрзНржпрж╛ржХ ржмрзНржпржмрж╣рж╛рж░ ржХрж░рзЗ ржХрж╛рж░рзНржпржХрж░рзА рж╕ржорж╛ржзрж╛ржи** ржжрзЗржУрзЯрж╛ рж╣рзЯрзЗржЫрзЗред  
- **ржкрзНрж░рждрж┐ржЯрж┐ ржЙржкрж╛ржжрж╛ржи рж╢рзБржзрзБржорж╛рждрзНрж░ ржПржХржмрж╛рж░ рж╕рзНржЯрзНржпрж╛ржХрзЗ ржпрзЛржЧ ржУ ржПржХржмрж╛рж░ ржкржк рж╣рзЯ** тЖТ рждрж╛ржЗ рж╕ржорзЯ ржЬржЯрж┐рж▓рждрж╛ **O(n)**ред  
- **O(n) ржЕрждрж┐рж░рж┐ржХрзНржд рж╕рзНржкрзЗрж╕ ржмрзНржпржмрж╣рж╛рж░** ржХрж░рж╛ рж╣рзЯрзЗржЫрзЗ, ржпрзЗрж╣рзЗрждрзБ ржЖржЙржЯржкрзБржЯ рж╕рзНржЯрзЛрж░ ржХрж░рждрзЗ ржЖрж▓рж╛ржжрж╛ ржЕрзНржпрж╛рж░рзЗ ржкрзНрж░рзЯрзЛржЬржиред  
- **ржзрж╛ржкрзЗ ржзрж╛ржкрзЗ ржмрзБржЭрж┐рзЯрзЗ ржжрзЗржУрзЯрж╛ рж╣рзЯрзЗржЫрзЗ**, ржпрзЗржи рж╕рж╣ржЬрзЗ ржмрзЛржЭрж╛ ржпрж╛рзЯред  