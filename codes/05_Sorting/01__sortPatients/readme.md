### **ЁЯМЯ рж╣рж╛рж╕ржкрж╛рждрж╛рж▓рзЗрж░ рж░рзЛржЧрзА рж░рзЗржХрж░рзНржб рж╕рж╛ржЬрж╛ржирзЛ (Sorting Hospital Patient Records) ЁЯМЯ**  
ржПржХржЯрж┐ рж╣рж╛рж╕ржкрж╛рждрж╛рж▓ рж░рзЛржЧрзАржжрзЗрж░ рж░рзЗржХрж░рзНржб рж╕ржВрж░ржХрзНрж╖ржг ржХрж░рзЗ, ржпрзЗржЦрж╛ржирзЗ ржкрзНрж░рждрж┐ржЯрж┐ рж░рзЛржЧрзАрж░ **ржЖржЗржбрж┐, ржирж╛ржо, ржмрзЯрж╕ ржУ рж╕ржВржХржЯ ржорж╛рждрзНрж░рж╛ (Severity Score)** ржерж╛ржХрзЗред ржЪрж┐ржХрж┐рзОрж╕рж╛ ржирж┐рж╢рзНржЪрж┐ржд ржХрж░рждрзЗ, рж░рзЛржЧрзАржжрзЗрж░ **рж╕ржВржХржЯ ржорж╛рждрзНрж░рж╛рж░ ржЙржкрж░ ржнрж┐рждрзНрждрж┐ ржХрж░рзЗ рж╕рж╛ржЬрж╛ржирзЛ** рж╣ржмрзЗред  

---

## **ЁЯУМ ржЕрзНржпрж╛рж▓ржЧрж░рж┐ржжржо ржмрзНржпрж╛ржЦрзНржпрж╛:**  
- **ржкрзНрж░рж╛ржержорж┐ржХржнрж╛ржмрзЗ рж╕ржВржХржЯ ржорж╛рждрзНрж░рж╛ (Severity Score) ржЕржирзБржпрж╛рзЯрзА рж╕рж╛ржЬрж╛ржирзЛ рж╣ржмрзЗ (Descending Order)**  
- **ржпржжрж┐ ржжрзБржЗржЬржирзЗрж░ рж╕ржВржХржЯ ржорж╛рждрзНрж░рж╛ рж╕ржорж╛ржи рж╣рзЯ, рждрж╛рж╣рж▓рзЗ ржмрзЯрж╕ ржЕржирзБржпрж╛рзЯрзА рж╕рж╛ржЬрж╛ржирзЛ рж╣ржмрзЗ (Ascending Order)**  

---

## **ЁЯТ╗ PHP ржХрзЛржб:**  

```php
function sortPatients($patients) {
    usort($patients, function($a, $b) {
        if ($b[3] == $a[3]) {
            return $a[2] - $b[2]; // ржмрзЯрж╕ ржЕржирзБрж╕рж╛рж░рзЗ ржмрж╛рзЬржирзНржд ржХрзНрж░ржо (Ascending)
        }
        return $b[3] - $a[3]; // рж╕ржВржХржЯ ржорж╛рждрзНрж░рж╛ ржЕржирзБржпрж╛рзЯрзА ржХржорзЗ ржЖрж╕рж╛ ржХрзНрж░ржо (Descending)
    });

    return $patients;
}

// ржЗржиржкрзБржЯ ржирзЗржУрзЯрж╛
$n = intval(trim(fgets(STDIN))); // рж░рзЛржЧрзАрж░ рж╕ржВржЦрзНржпрж╛
$patients = [];

for ($i = 0; $i < $n; $i++) {
    $patients[] = explode(" ", trim(fgets(STDIN)));
}

// рж╕рж╛ржЬрж╛ржирзЛ ржУ ржЖржЙржЯржкрзБржЯ
$sortedPatients = sortPatients($patients);

foreach ($sortedPatients as $patient) {
    echo implode(" ", $patient) . "\n";
}
```

---

## **тЪЩя╕П ржХрж┐ржнрж╛ржмрзЗ ржХрж╛ржЬ ржХрж░рзЗ:**  
1. **ржЗржЙржЬрж╛рж░ ржерзЗржХрзЗ `n` рж╕ржВржЦрзНржпржХ рж░рзЛржЧрзАрж░ ржЗржиржкрзБржЯ ржирзЗржУрзЯрж╛ рж╣рзЯ**ред  
2. **`usort()` ржлрж╛ржВрж╢ржи ржжрж┐рзЯрзЗ ржХрж╛рж╕рзНржЯржо ржХржорзНржкрж╛рж░рзЗржЯрж░ ржмрзНржпржмрж╣рж╛рж░ ржХрж░рзЗ рж╕рж╛ржЬрж╛ржирзЛ рж╣рзЯ:**  
   - ржкрзНрж░ржержорзЗ **рж╕ржВржХржЯ ржорж╛рждрзНрж░рж╛ ржЕржирзБржпрж╛рзЯрзА рж╕рж╛ржЬрж╛ржирзЛ рж╣рзЯ (Descending Order)**  
   - ржпржжрж┐ рж╕ржВржХржЯ ржорж╛рждрзНрж░рж╛ рж╕ржорж╛ржи рж╣рзЯ, рждрж╛рж╣рж▓рзЗ **ржмрзЯрж╕ ржЕржирзБржпрж╛рзЯрзА рж╕рж╛ржЬрж╛ржирзЛ рж╣рзЯ (Ascending Order)**  
3. **рж╕рж╛ржЬрж╛ржирзЛ ржбрж╛ржЯрж╛ ржЖржЙржЯржкрзБржЯ рж╣рж┐рж╕рзЗржмрзЗ ржкрзНрж░рж┐ржирзНржЯ ржХрж░рж╛ рж╣рзЯ**ред  

---

## **ЁЯЦея╕П ржЗржиржкрзБржЯ-ржЖржЙржЯржкрзБржЯ:**  

### **ржЙржжрж╛рж╣рж░ржг рзз:**  
#### **ЁЯУе ржЗржиржкрзБржЯ:**  
```
5
101 Alice 30 5
102 Bob 25 8
103 Charlie 40 8
104 David 35 6
105 Eve 28 5
```

#### **ЁЯУд ржЖржЙржЯржкрзБржЯ:**  
```
102 Bob 25 8
103 Charlie 40 8
104 David 35 6
105 Eve 28 5
101 Alice 30 5
```

#### **ЁЯУЭ ржмрзНржпрж╛ржЦрзНржпрж╛:**  
1. **Bob (Severity: 8, Age: 25) ржУ Charlie (Severity: 8, Age: 40) рж╕ржВржХржЯ ржорж╛рждрзНрж░рж╛рзЯ рж╕ржмрж╛рж░ ржЙржкрж░рзЗред**  
   - **Bob (25 ржмржЫрж░) ржЖржЧрзЗ ржЖрж╕ржмрзЗ ржХрж╛рж░ржг ржмрзЯрж╕ ржХржоред**  
2. **David (Severity: 6) рждрж╛рж░ржкрж░ ржЖрж╕ржмрзЗред**  
3. **Eve ржУ Alice (Severity: 5) ржЖржЫрзЗред**  
   - **Eve (ржмрзЯрж╕ 28) ржЖржЧрзЗ ржЖрж╕ржмрзЗ ржХрж╛рж░ржг ржмрзЯрж╕ ржХржоред**  

---

## **тП│ ржЯрж╛ржЗржо ржХржоржкрзНрж▓рзЗржХрзНрж╕рж┐ржЯрж┐ ржмрж┐рж╢рзНрж▓рзЗрж╖ржг**  

### **ЁЯФ╣ `usort()` ржмрзНржпржмрж╣рж╛рж░ ржХрж░рзЗ рж╕рж╛ржЬрж╛ржирзЛ**  
- `usort()` рж╕рж╛ржзрж╛рж░ржгржд **O(n log n)** рж╕ржорзЯ ржирзЗрзЯ, ржпрж╛ ржмрзЬ ржЗржиржкрзБржЯрзЗржУ ржХрж╛рж░рзНржпржХрж░ред  

### **ЁЯФ╣ `foreach()` рж▓рзБржк ржжрж┐рзЯрзЗ ржЖржЙржЯржкрзБржЯ ржкрзНрж░рж┐ржирзНржЯ**  
- O(n) ржЯрж╛ржЗржо рж▓рж╛ржЧрзЗ, ржпрж╛ ржХржоржкрзНрж▓рзЗржХрзНрж╕рж┐ржЯрж┐ржХрзЗ ржкрзНрж░ржнрж╛ржмрж┐ржд ржХрж░рзЗ ржирж╛ред  

### **ЁЯФ╣ ржЪрзВрзЬрж╛ржирзНржд ржХржоржкрзНрж▓рзЗржХрзНрж╕рж┐ржЯрж┐:**  
- **O(n log n)** (ржХрж╛рж░рзНржпржХрж░ ржУ ржжрзНрж░рзБрждрждржо рж╕ржорж╛ржзрж╛ржи)  

---

## **ЁЯТ╛ рж╕рзНржкрзЗрж╕ ржХржоржкрзНрж▓рзЗржХрзНрж╕рж┐ржЯрж┐ ржмрж┐рж╢рзНрж▓рзЗрж╖ржг**  
- **O(n)** ржЕрждрж┐рж░рж┐ржХрзНржд ржЬрж╛рзЯржЧрж╛ рж▓рж╛ржЧрзЗ, ржХрж╛рж░ржг рж░рзЛржЧрзАржжрзЗрж░ ржбрж╛ржЯрж╛ ржЕрзНржпрж╛рж░рзЗ рж╣рж┐рж╕рзЗржмрзЗ рж╕ржВрж░ржХрзНрж╖ржг ржХрж░рж╛ рж╣рзЯрзЗржЫрзЗред  

---

## **ЁЯУК ржЪрзВрзЬрж╛ржирзНржд ржмрж┐рж╢рзНрж▓рзЗрж╖ржг:**  

| ржЕржкрж╛рж░рзЗрж╢ржи | ржЯрж╛ржЗржо ржХржоржкрзНрж▓рзЗржХрзНрж╕рж┐ржЯрж┐ |  
|--------------|----------------|  
| **рж╕рж╛ржЬрж╛ржирзЛ (`usort`)** | **O(n log n)** |  
| **ржЖржЙржЯржкрзБржЯ ржкрзНрж░рж┐ржирзНржЯ** | **O(n)** |  
| **рж╕рзНржкрзЗрж╕ ржХржоржкрзНрж▓рзЗржХрзНрж╕рж┐ржЯрж┐** | **O(n)** |  

---

## **ЁЯФС ржорзВрж▓ ржкрзЯрзЗржирзНржЯрж╕ржорзВрж╣**  
тЬЕ **Severity Score ржЕржирзБрж╕рж╛рж░рзЗ рж╕рж╛ржЬрж╛ржирзЛ рж╣рзЯ (Descending Order)**ред  
тЬЕ **ржПржХржЗ Severity рж╣рж▓рзЗ ржмрзЯрж╕ ржЕржирзБрж╕рж╛рж░рзЗ рж╕рж╛ржЬрж╛ржирзЛ рж╣рзЯ (Ascending Order)**ред  
тЬЕ **`usort()` ржмрзНржпржмрж╣рж╛рж░ ржХрж░рзЗ ржХрж╛рж░рзНржпржХрж░ O(n log n) рж╕ржорж╛ржзрж╛ржи**ред  
тЬЕ **ржмрзЬ ржЗржиржкрзБржЯрзЗржУ ржжрзНрж░рзБржд ржХрж╛ржЬ ржХрж░рждрзЗ рж╕ржХрзНрж╖ржо**ред  

---

### **ЁЯУв рж╕рж╛рж░рж╕ржВржХрзНрж╖рзЗржк:**  
- **рж░рзЛржЧрзАржжрзЗрж░ рж░рзЗржХрж░рзНржб ржХрж╛рж░рзНржпржХрж░ржнрж╛ржмрзЗ рж╕рж╛ржЬрж╛ржирзЛрж░ ржЬржирзНржп `usort()` ржмрзНржпржмрж╣рж╛рж░ ржХрж░рж╛ рж╣рзЯрзЗржЫрзЗред**  
- **ржЙржЪрзНржЪ рж╕ржВржХржЯ ржорж╛рждрзНрж░рж╛рж░ рж░рзЛржЧрзАрж░рж╛ ржЖржЧрзЗ ржжрзЗржЦрж╛ ржкрж╛ржмрзЗред**  
- **рж╕ржорж╛ржи рж╕ржВржХржЯ ржорж╛рждрзНрж░рж╛рзЯ, ржЫрзЛржЯ ржмрзЯрж╕рзЗрж░ рж░рзЛржЧрзА ржЖржЧрзЗ ржжрзЗржЦрж╛ ржкрж╛ржмрзЗред**  
- **O(n log n) ржЯрж╛ржЗржо ржХржоржкрзНрж▓рзЗржХрзНрж╕рж┐ржЯрж┐ ржирж┐рж╢рзНржЪрж┐ржд ржХрж░рж╛ рж╣рзЯрзЗржЫрзЗред**  